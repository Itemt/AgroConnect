{% extends 'base.html' %}

{% block title %}Mi Perfil{% endblock %}

{% block content %}
    <div class="profile-container">
        <h1>Mi Perfil</h1>
        
        <div class="profile-card">
            <h2>Información de la Cuenta</h2>
            <p><strong>Nombre de usuario:</strong> {{ user.username }}</p>
            <p><strong>Nombre:</strong> {{ user.first_name }} {{ user.last_name }}</p>
            <p><strong>Email:</strong> {{ user.email }}</p>
            <p><strong>Rol:</strong> {{ user.role }}</p>

            {% if user.role == 'Productor' and user.producer_profile %}
                <div class="profile-section">
                    <h3>Perfil de Productor</h3>
                    <p><strong>Ubicación:</strong> {{ user.producer_profile.location }}</p>
                    <p><strong>Descripción de la Finca:</strong> {{ user.producer_profile.farm_description }}</p>
                    <p><strong>Cultivos Principales:</strong> {{ user.producer_profile.main_crops }}</p>
                </div>
            {% elif user.role == 'Comprador' and user.buyer_profile %}
                <div class="profile-section">
                    <h3>Perfil de Comprador</h3>
                    <p><strong>Nombre de la Compañía:</strong> {{ user.buyer_profile.company_name }}</p>
                    <p><strong>Tipo de Negocio:</strong> {{ user.buyer_profile.business_type }}</p>
                </div>
            {% endif %}

            <a href="{% url 'profile_edit' %}" class="btn-edit">Editar Perfil</a>
        </div>
    </div>
{% endblock %}
